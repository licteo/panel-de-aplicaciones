<html><head><base href="." />
<title>Panel de Aplicaciones</title>
<style>
:root {
  --primary: #4A90E2;
  --secondary: #7C4DFF;
  --bg: #F5F7FA;
  --text: #2C3E50;
  --shadow: 0 4px 6px rgba(0,0,0,0.1);
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Segoe UI', system-ui, sans-serif;
}

body {
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
}

.header {
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  color: white;
  padding: 2rem;
  text-align: center;
  box-shadow: var(--shadow);
}

.header h1 {
  font-size: 2.5rem;
  margin-bottom: 1rem;
}

.app-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 2rem;
  padding: 2rem;
  max-width: 1200px;
  margin: 0 auto;
}

.app-card {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  text-align: center;
  box-shadow: var(--shadow);
  transition: transform 0.3s ease;
}

.app-card:hover {
  transform: translateY(-5px);
}

.app-icon {
  width: 64px;
  height: 64px;
  margin: 0 auto 1rem;
}

.app-icon svg {
  width: 100%;
  height: 100%;
}

.app-title {
  font-size: 1.25rem;
  margin-bottom: 1rem;
  color: var(--text);
}

.open-btn {
  background: var(--primary);
  color: white;
  border: none;
  padding: 0.75rem 1.5rem;
  border-radius: 6px;
  cursor: pointer;
  font-size: 1rem;
  transition: background 0.3s ease;
}

.open-btn:hover {
  background: var(--secondary);
}

.loading {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(255,255,255,0.9);
  justify-content: center;
  align-items: center;
}

.spinner {
  width: 50px;
  height: 50px;
  border: 5px solid var(--primary);
  border-top-color: transparent;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

@media (max-width: 768px) {
  .header h1 {
    font-size: 2rem;
  }
  
  .app-grid {
    padding: 1rem;
    gap: 1rem;
  }
}

/* Estilos adicionales para el visualizador de archivos */
.file-upload-zone {
  position: fixed;
  bottom: 2rem;
  right: 2rem;
  background: white;
  padding: 1.5rem;
  border-radius: 12px;
  box-shadow: var(--shadow);
  z-index: 100;
}

.file-input {
  display: none;
}

.upload-btn {
  background: var(--secondary);
  color: white;
  border: none;
  padding: 0.75rem 1.5rem;
  border-radius: 6px;
  cursor: pointer;
  font-size: 1rem;
  transition: background 0.3s ease;
}

.upload-btn:hover {
  background: var(--primary);
}

.file-preview {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(255,255,255,0.95);
  z-index: 1000;
  padding: 2rem;
  overflow: auto;
}

.file-preview-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.close-preview {
  background: var(--primary);
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 6px;
  cursor: pointer;
}

.file-preview-content {
  background: white;
  padding: 2rem;
  border-radius: 12px;
  box-shadow: var(--shadow);
}

/* Nuevos estilos para el gestor de links */
.url-manager {
  position: fixed;
  bottom: 2rem;
  left: 2rem;
  background: white;
  padding: 1.5rem;
  border-radius: 12px;
  box-shadow: var(--shadow);
  z-index: 100;
  width: 300px;
}

.url-form {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.url-input {
  padding: 0.5rem;
  border: 1px solid var(--primary);
  border-radius: 4px;
  font-size: 1rem;
}

.url-list {
  margin-top: 1rem;
  max-height: 200px;
  overflow-y: auto;
}

.url-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.5rem;
  border-bottom: 1px solid #eee;
}

.url-item a {
  color: var(--primary);
  text-decoration: none;
  max-width: 200px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.delete-url {
  background: #ff4444;
  color: white;
  border: none;
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  cursor: pointer;
}
</style>
</head>
<body>

<header class="header">
  <h1>Panel de Aplicaciones</h1>
  <p>Selecciona una aplicación para comenzar</p>
</header>

<main class="app-grid">
  <div class="app-card">
    <div class="app-icon">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="4" y="4" width="16" height="16" rx="2"/>
        <path d="M8 12h8M12 8v8"/>
      </svg>
    </div>
    <h2 class="app-title">Calculadora</h2>
    <button class="open-btn" data-app="calculator">Abrir</button>
  </div>

  <div class="app-card">
    <div class="app-icon">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"/>
      </svg>
    </div>
    <h2 class="app-title">Lista de Tareas</h2>
    <button class="open-btn" data-app="todos">Abrir</button>
  </div>

  <div class="app-card">
    <div class="app-icon">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/>
        <path d="M20.94 11C20.48 6.83 17.17 3.52 13 3.06V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/>
      </svg>
    </div>
    <h2 class="app-title">Conversor de Divisas</h2>
    <button class="open-btn" data-app="converter">Abrir</button>
  </div>

  <div class="app-card">
    <div class="app-icon">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2v10z"/>
      </svg>
    </div>
    <h2 class="app-title">Chatbot</h2>
    <button class="open-btn" data-app="chatbot">Abrir</button>
  </div>

  <div class="app-card">
    <div class="app-icon">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path>
        <polyline points="13 2 13 9 20 9"></polyline>
      </svg>
    </div>
    <h2 class="app-title">Visor de HTML</h2>
    <button class="open-btn" data-app="viewer">Abrir</button>
  </div>
</main>

<div class="loading">
  <div class="spinner"></div>
</div>

<div class="file-upload-zone">
  <input type="file" id="fileInput" class="file-input" accept=".html">
  <button class="upload-btn">Subir archivo HTML</button>
</div>

<div class="file-preview">
  <div class="file-preview-header">
    <h2>Vista previa del archivo</h2>
    <button class="close-preview">Cerrar</button>
  </div>
  <div class="file-preview-content"></div>
</div>

<div class="url-manager">
  <h3>Gestor de Enlaces</h3>
  <form class="url-form">
    <input type="text" class="url-input" placeholder="Título del enlace" id="urlTitle" required>
    <input type="url" class="url-input" placeholder="https://ejemplo.com" id="urlInput" required>
    <button type="submit" class="upload-btn">Agregar Enlace</button>
  </form>
  <div class="url-list"></div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const loading = document.querySelector('.loading');
  const buttons = document.querySelectorAll('.open-btn');
  const fileInput = document.getElementById('fileInput');
  const uploadBtn = document.querySelector('.upload-btn');
  const filePreview = document.querySelector('.file-preview');
  const closePreview = document.querySelector('.close-preview');
  const previewContent = document.querySelector('.file-preview-content');
  
  const appRoutes = {
    calculator: '/calculator',
    todos: '/todos',
    converter: '/converter',
    chatbot: '/chatbot',
    viewer: '/viewer'
  };
  
  // Manejador de archivos
  uploadBtn.addEventListener('click', () => {
    fileInput.click();
  });

  fileInput.addEventListener('change', (e) => {
    const file = e.target.files[0];
    if (!file) return;

    const reader = new FileReader();
    reader.onload = (event) => {
      const content = event.target.result;
      
      // Crear un iframe para mostrar el HTML de forma segura
      previewContent.innerHTML = `
        <iframe 
          srcdoc="${content.replace(/"/g, '&quot;')}" 
          style="width: 100%; height: 80vh; border: none;">
        </iframe>
      `;
      
      filePreview.style.display = 'block';
    };
    
    reader.readAsText(file);
  });

  closePreview.addEventListener('click', () => {
    filePreview.style.display = 'none';
    previewContent.innerHTML = '';
  });

  // Manejador de clic para los botones
  buttons.forEach(button => {
    button.addEventListener('click', async (e) => {
      const app = e.target.dataset.app;
      const route = appRoutes[app];
      
      if (!route) return;
      
      loading.style.display = 'flex';
      
      try {
        await new Promise(resolve => setTimeout(resolve, 1000));
        if (app === 'viewer') {
          fileInput.click();
        } else {
          window.location.href = route;
        }
      } catch (error) {
        console.error('Error al abrir la aplicación:', error);
        alert('Error al abrir la aplicación. Por favor, intente nuevamente.');
      } finally {
        loading.style.display = 'none';
      }
    });
  });
  
  // Función para agregar dinámicamente nuevas aplicaciones
  window.addApp = (title, icon, route) => {
    const appGrid = document.querySelector('.app-grid');
    const newApp = document.createElement('div');
    newApp.className = 'app-card';
    
    newApp.innerHTML = `
      <div class="app-icon">
        ${icon}
      </div>
      <h2 class="app-title">${title}</h2>
      <button class="open-btn" data-app="${route}">Abrir</button>
    `;
    
    appGrid.appendChild(newApp);
    
    newApp.querySelector('.open-btn').addEventListener('click', async (e) => {
      loading.style.display = 'flex';
      await new Promise(resolve => setTimeout(resolve, 1000));
      window.location.href = `/${route}`;
      loading.style.display = 'none';
    });
  };

  // Nueva funcionalidad para gestionar URLs
  const urlForm = document.querySelector('.url-form');
  const urlList = document.querySelector('.url-list');
  const urlTitleInput = document.getElementById('urlTitle');
  const urlInput = document.getElementById('urlInput');

  // Cargar URLs guardadas
  let savedUrls = JSON.parse(localStorage.getItem('savedUrls') || '[]');

  function displayUrls() {
    urlList.innerHTML = savedUrls.map(({title, url}, index) => `
      <div class="url-item">
        <a href="${url}" target="_blank" title="${title}">${title}</a>
        <button class="delete-url" data-index="${index}">×</button>
      </div>
    `).join('');
  }

  displayUrls();

  urlForm.addEventListener('submit', (e) => {
    e.preventDefault();
    
    const title = urlTitleInput.value.trim();
    const url = urlInput.value.trim();

    if (!title || !url) return;

    // Validar formato de URL
    try {
      new URL(url);
    } catch (err) {
      alert('Por favor, ingrese una URL válida');
      return;
    }

    savedUrls.push({ title, url });
    localStorage.setItem('savedUrls', JSON.stringify(savedUrls));
    
    urlTitleInput.value = '';
    urlInput.value = '';
    
    displayUrls();
  });

  urlList.addEventListener('click', (e) => {
    if (e.target.classList.contains('delete-url')) {
      const index = parseInt(e.target.dataset.index);
      savedUrls.splice(index, 1);
      localStorage.setItem('savedUrls', JSON.stringify(savedUrls));
      displayUrls();
    }
  });
});
</script>

<!-- Para ejecutar esta aplicación:

1. Instalar Flask:
   pip install flask

2. Actualizar el archivo app.py con el siguiente contenido:

from flask import Flask, render_template
app = Flask(__name__)

@app.route('/')
def index():
    return render_template('index.html')

@app.route('/calculator')
def calculator():
    return "Calculadora"

@app.route('/todos')
def todos():
    return "Lista de Tareas"

@app.route('/converter')
def converter():
    return "Conversor de Divisas"

@app.route('/chatbot')
def chatbot():
    return "Chatbot"

@app.route('/viewer')
def viewer():
    return "Visor de HTML"

if __name__ == '__main__':
    app.run(debug=True)

3. Guardar este HTML como templates/index.html

4. Ejecutar la aplicación:
   python app.py

5. Abrir en el navegador:
   http://localhost:5000
-->

</body></html>